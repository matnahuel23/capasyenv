paths:
  /tickets:
    get:
      summary: Obtiene todos los tickets
      tags:
        - Tickets
      responses:
        "200":
          description: Los tickets fueron obtenidos correctamente.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Ticket'
        "500":
          description: Error interno del servidor, usualmente generado por una query defectuosa o un fallo con la base de datos.
  /tickets/{tid}:
      delete:
        summary: Elimina un ticket existente
        tags:
          - Tickets
        parameters:
          - name: tid
            in: path
            required: true
            description: ID del ticket que se desea eliminar.
            schema:
              type: string
        responses:
          "204":
            description: Ticket eliminado exitosamente.
          "404":
            description: Ticket no encontrado.
          "500":
            description: Error interno del servidor, usualmente generado por una query defectuosa o un fallo con la base de datos.
  /tickets/json/{tid}:
      get:
        summary: Obtiene un solo ticket a partir de su ID
        tags:
          - Tickets
        parameters:
          - name: tid
            in: path
            required: true
            description: ID del ticket que se desea solicitar.
            schema:
              type: string
        responses:
          "200":
            description: Ticket encontrado exitosamente.
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Ticket'
          "404":
            description: Ticket no encontrado.
          "500":
            description: Error interno del servidor, usualmente generado por una query defectuosa o un fallo con la base de datos.

components:
  schemas:
    Ticket:
      type: object
      properties:
        _id:
          type: string
          description: Id autogenerado de Mongo.
        code:
          type: string
          unique: true
          required: true
          description: Código del ticket.
        purchase_datetime:
          type: string
          format: date-time
          description: Fecha y hora de la compra.
        phone:
          type: string
          description: Número de teléfono asociado al ticket.
        email:
          type: string
          format: email
          description: Correo electrónico asociado al ticket.
        cart:
          type: string
          description: Id del carrito asociado al ticket.
        total:
          type: number
          description: Total del ticket.
      example:
        _id: "5f885be3b547644035f26354"
        code: "ABC123"
        purchase_datetime: "2023-01-01T12:30:00Z"
        phone: "+1234567890"
        email: "correo@example.com"
        cart: "5f885be3b547644035f26355"
        total: 50.99